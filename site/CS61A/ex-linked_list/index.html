<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="https://jessiejizhe.github.io/techie/CS61A/ex-linked_list/">
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>linked_list - Techie</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">Techie</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">CS61A <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../ex-function/" class="dropdown-item">function</a>
</li>
                                    
<li>
    <a href="../ex-recursion/" class="dropdown-item">recursion</a>
</li>
                                    
<li>
    <a href="../ex-sequence/" class="dropdown-item">sequence</a>
</li>
                                    
<li>
    <a href="../ex-tree/" class="dropdown-item">tree</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">linked_list</a>
</li>
                                    
<li>
    <a href="../1-intro/" class="dropdown-item">CS61A-intro</a>
</li>
                                    
<li>
    <a href="../2-function/" class="dropdown-item">CS61A-function</a>
</li>
                                    
<li>
    <a href="../3-data_abstraction/" class="dropdown-item">CS61A-data abstraction</a>
</li>
                                    
<li>
    <a href="../4-object_oriented/" class="dropdown-item">CS61A-object oriented</a>
</li>
                                    
<li>
    <a href="../5-computer_programs/" class="dropdown-item">CS61A-computer programs</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">DevOps <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../devops/git/" class="dropdown-item">git</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Apache <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../Apache/Hadoop/" class="dropdown-item">Hadoop</a>
</li>
                                    
<li>
    <a href="../../Apache/MapReduce/" class="dropdown-item">MapReduce</a>
</li>
                                    
<li>
    <a href="../../Apache/HDFS/" class="dropdown-item">HDFS</a>
</li>
                                    
<li>
    <a href="../../Apache/Spark/" class="dropdown-item">Spark</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../ex-tree/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../1-intro/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#linked-list" class="nav-link">Linked List</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#linked-list-class" class="nav-link">Linked List Class</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#extend-link" class="nav-link">Extend Link</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#range-link" class="nav-link">Range Link</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#map-link" class="nav-link">Map Link</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#filter-link" class="nav-link">Filter Link</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#join-link" class="nav-link">Join Link</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#add-to-an-ordered-list" class="nav-link">Add to an Ordered List</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#sum-nums" class="nav-link">Sum Nums</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#multiply-link" class="nav-link">Multiply Link</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#convert-to-list" class="nav-link">Convert to List</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#flip-two" class="nav-link">Flip Two</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#every-other-element-q" class="nav-link">Every Other Element (Q)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#store-digits" class="nav-link">store digits</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#sorted" class="nav-link">Sorted</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#merge" class="nav-link">Merge</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#partition-tbd" class="nav-link">Partition (TBD)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#has-cycle" class="nav-link">Has Cycle</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#deep-linked-list-length" class="nav-link">Deep Linked List Length</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#make-to-string" class="nav-link">Make to String</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#remove-duplicates" class="nav-link">Remove Duplicates</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#fold-left-tbd" class="nav-link">Fold Left (TBD)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#filter-with-fold-tbd" class="nav-link">Filter with Fold (TBD)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#reverse-with-fold-tbd" class="nav-link">Reverse with Fold (TBD)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#fold-with-fold-tbd" class="nav-link">Fold with Fold (TBD)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="linked-list">Linked List</h1>
<p>A linked list is either empty or a first value and the rest of the linked list</p>
<ul>
<li>A linked list is a pair</li>
<li>The first (zeroth) element is an attribute value</li>
<li>The rest of the elements are stored in a linked list</li>
<li><code>Link.empty</code> - a class attribute represents an empty linked list</li>
</ul>
<h2 id="linked-list-class">Linked List Class</h2>
<p>Linked list class: attributes are passed to <code>__init__</code></p>
<pre><code class="language-python">class Link:
    empty = () # tuple: some zero-length sequence

    def __init__(self, first, rest=empty):
        assert rest is Link.empty or isinstance(rest, Link)
        self.first = first
        self.rest = rest

    def __repr__(self):
        if self.rest:
            rest_repr = ', ' + repr(self.rest)
        else:
            rest_repr = ''
        return 'Link(' + repr(self.first) + rest_repr + ')'

    def __str__(self):
        string = '&lt;'
        while self.rest is not Link.empty:
            string += str(self.first) + ' '
            self = self.rest
        return string + str(self.first) + '&gt;'


    def __getitem__(self, i):
        if i == 0:
            return self.first
        else:
            return self.rest[i-1]

    def __len__(self):
        return 1 + len(self.rest)
</code></pre>
<h2 id="extend-link">Extend Link</h2>
<pre><code class="language-python">def extend_link(s, t):
    &quot;&quot;&quot;
    &gt;&gt;&gt; extend_link(s, s)
    Link(3, Link(4, Link(5, Link(3, Link(4, Link(5))))))
    &quot;&quot;&quot;
    if s is Link.empty:
        return t
    else:
        return Link(s.first, extend(s.rest, t))
</code></pre>
<h2 id="range-link">Range Link</h2>
<pre><code class="language-python">def range_link(start, end):
    &quot;&quot;&quot;Return a Link containing consecutive integers from start to end.

    &gt;&gt;&gt; range_link(3, 6)
    Link(3, Link(4, Link(5)))
    &quot;&quot;&quot;
    if start &gt;= end:
        return Link.empty
    else:
        return Link(start, range_link(start + 1, end))
</code></pre>
<h2 id="map-link">Map Link</h2>
<pre><code class="language-python">def map_link(f, s):
    &quot;&quot;&quot;Return a Link that contains f(x) for each x in Link s.

    &gt;&gt;&gt; map_link(square, range_link(3, 6))
    Link(9, Link(16, Link(25)))
    &quot;&quot;&quot;
    if s is Link.empty:
        return s
    else:
        return Link(f(s.first), map_link(f, s.rest))
</code></pre>
<h2 id="filter-link">Filter Link</h2>
<pre><code class="language-python">def filter_link(f, s):
    &quot;&quot;&quot;Return a Link that contains only the elements x of Link s for which f(x)
    is a true value.

    &gt;&gt;&gt; filter_link(odd, range_link(3, 6))
    Link(3, Link(5))
    &quot;&quot;&quot;
    if s is Link.empty:
        return s
    filtered_rest = filter_link(f, s.rest)
    if f(s.first):
        return Link(s.first, filtered_rest)
    else:
        return filtered_rest
</code></pre>
<p>or</p>
<pre><code class="language-python">def filter_link(lnk, fn):
    &quot;&quot;&quot;
    &gt;&gt;&gt; link = Link(1, Link(2, Link(3)))
    &gt;&gt;&gt; g = filter_link(link, lambda x: x % 2 == 0)
    &gt;&gt;&gt; next(g)
    2
    &gt;&gt;&gt; next(g)
    StopIteration
    &gt;&gt;&gt; list(filter_link(link, lambda x: x % 2 != 0))
    [1, 3]
    &quot;&quot;&quot;
    while lnk is not Link.empty:
        if f(link.first):
            yield lnk.first
        lnk = lnk.rest
</code></pre>
<h2 id="join-link">Join Link</h2>
<pre><code class="language-python">def join_link(s, separator):
    &quot;&quot;&quot;
    &gt;&gt;&gt; join_link(s, &quot;, &quot;)
    '3, 4, 5'
    &quot;&quot;&quot;
    if s is Link.empty:
        return &quot;&quot;
    elif s.rest is Link.empty:
        return str(s.first)
    else:
        return str(s.first) + separator + join_link(s.rest, separator)
</code></pre>
<h2 id="add-to-an-ordered-list">Add to an Ordered List</h2>
<pre><code class="language-python">def add(s, v):
    &quot;&quot;&quot;
    Add v to an ordered list s with no repeats, returning modified s.
    If v is already in s, then don't modify s, but still return it
    &gt;&gt;&gt; s = Link(1, Link(3, Link(5)))
    &gt;&gt;&gt; add(s, 0)
    Link(0, Link(1, Link(3, Link(5))))
    &gt;&gt;&gt; add(s, 3)
    Link(0, Link(1, Link(3, Link(5))))
    &gt;&gt;&gt; add(s, 4)
    Link(0, Link(1, Link(3, Link(4, Link(5)))))
    &gt;&gt;&gt; add(s, 6)
    Link(0, Link(1, Link(3, Link(4, Link(5, Link(6))))
    &quot;&quot;&quot;
    if v &lt; s.first:
        s.first, s.rest = v, Link(s.first, s.rest)
    elif v &gt; s.first and empty(s.rest):
        s.rest = Link(v)
    elif v &gt; s.first:
        add(s.rest, v)
    return s
</code></pre>
<h2 id="sum-nums">Sum Nums</h2>
<pre><code class="language-python">def sum_nums(lnk):
    &quot;&quot;&quot;
    &gt;&gt;&gt; a = Link(1, Link(6, Link(7)))
    &gt;&gt;&gt; sum_nums(a)
    14
    &quot;&quot;&quot;
    if lnk is Link.empty:
        return 0
    return lnk.first + sum_nums(lnk.rest)
</code></pre>
<h2 id="multiply-link">Multiply Link</h2>
<pre><code class="language-python">def multiply_lnks(lst_of_lnks):
    &quot;&quot;&quot;
    &gt;&gt;&gt; a = Link(2, Link(3, Link(5)))
    &gt;&gt;&gt; b = Link(6, Link(4, Link(2)))
    &gt;&gt;&gt; c = Link(4, Link(1, Link(0, Link(2))))
    &gt;&gt;&gt; p = multiply_lnks([a, b, c])
    &gt;&gt;&gt; p.first
    48
    &gt;&gt;&gt; p.rest.first
    12
    &gt;&gt;&gt; p.rest.rest.rest is Link.empty
    True
    &quot;&quot;&quot;
    product = 1
    for lnk in lst_of_lnks:
        if lnk is Link.empty:
            return Link.empty
        product *= lnk.first
    lst_of_lnks_rest = [lnk.rest for lnk in lst_of_lnks]
    return Link(product, multiply_lnks(lst_of_lnks_rest))
</code></pre>
<h2 id="convert-to-list">Convert to List</h2>
<pre><code class="language-python">def convert_link(link):
    &quot;&quot;&quot;Takes a linked list and returns a Python list with the same elements.

    &gt;&gt;&gt; link = Link(1, Link(2, Link(3, Link(4))))
    &gt;&gt;&gt; convert_link(link)
    [1, 2, 3, 4]
    &gt;&gt;&gt; convert_link(Link.empty)
    []
    &quot;&quot;&quot;
    output_list = []
    while link != Link.empty:
        output_list.append(link.first)
        link = link.rest
    return output_list
</code></pre>
<p>recursive</p>
<pre><code class="language-python">def convert_link(link):
    &quot;&quot;&quot;Takes a linked list and returns a Python list with the same elements.

    &gt;&gt;&gt; link = Link(1, Link(2, Link(3, Link(4))))
    &gt;&gt;&gt; convert_link(link)
    [1, 2, 3, 4]
    &gt;&gt;&gt; convert_link(Link.empty)
    []
    &quot;&quot;&quot;
    if link == Link.empty:
      return []
    else:
      return [link.first] + convert_link(link.rest)
</code></pre>
<h2 id="flip-two">Flip Two</h2>
<pre><code class="language-python">def flip_two(lnk):
    &quot;&quot;&quot;
    &gt;&gt;&gt; one_lnk = Link(1)
    &gt;&gt;&gt; flip_two(one_lnk)
    &gt;&gt;&gt; one_lnk
    Link(1)
    &gt;&gt;&gt; lnk = Link(1, Link(2, Link(3, Link(4, Link(5)))))
    &gt;&gt;&gt; flip_two(lnk)
    &gt;&gt;&gt; lnk
    Link(2, Link(1, Link(4, Link(3, Link(5)))))
    &quot;&quot;&quot;
    if lnk is Link.empty:
        return
    elif lnk.rest is Link.empty:
        return
    else:
        tmp_first = lnk.first
        tmp_rest = lnk.rest.first
        lnk.first = tmp_rest
        lnk.rest = Link(tmp_first, lnk.rest.rest)
        lnk.rest = Link(tmp_first, lnk.rest.rest)
        flip_two(lnk.rest.rest)
</code></pre>
<h2 id="every-other-element-q">Every Other Element (Q)</h2>
<pre><code class="language-python">def every_other(s):
    &quot;&quot;&quot;Returns a new linked list that contains all the even-indiced elements of the original linked list
    (using 0-based indexing).
    &quot;&quot;&quot;
    if s is Link.empty:
        return Link.empty
    elif s.rest is Link.empty:
        return s
    return Link(s.first, every_other(s.rest.rest))
</code></pre>
<p>in-place mutation?</p>
<pre><code class="language-python">def every_other(s):
    &quot;&quot;&quot;Mutates a linked list so that all the odd-indiced elements are removed
    (using 0-based indexing).

    &gt;&gt;&gt; s = Link(1, Link(2, Link(3, Link(4))))
    &gt;&gt;&gt; every_other(s)
    &gt;&gt;&gt; s
    Link(1, Link(3))
    &gt;&gt;&gt; odd_length = Link(5, Link(3, Link(1)))
    &gt;&gt;&gt; every_other(odd_length)
    &gt;&gt;&gt; odd_length
    Link(5, Link(1))
    &gt;&gt;&gt; singleton = Link(4)
    &gt;&gt;&gt; every_other(singleton)
    &gt;&gt;&gt; singleton
    Link(4)
    &quot;&quot;&quot;
    &quot;*** YOUR CODE HERE ***&quot;
</code></pre>
<h2 id="store-digits">store digits</h2>
<pre><code class="language-python">def store_digits(n):
    &quot;&quot;&quot;Stores the digits of a positive number n in a linked list.

    &gt;&gt;&gt; s = store_digits(1)
    &gt;&gt;&gt; s
    Link(1)
    &gt;&gt;&gt; store_digits(2345)
    Link(2, Link(3, Link(4, Link(5))))
    &gt;&gt;&gt; store_digits(876)
    Link(8, Link(7, Link(6)))
    &gt;&gt;&gt; # a check for restricted functions
    &gt;&gt;&gt; import inspect, re
    &gt;&gt;&gt; cleaned = re.sub(r&quot;#.*\\n&quot;, '', re.sub(r'&quot;{3}[\s\S]*?&quot;{3}', '', inspect.getsource(store_digits)))
    &gt;&gt;&gt; print(&quot;Do not use str or reversed!&quot;) if any([r in cleaned for r in [&quot;str&quot;, &quot;reversed&quot;]]) else None
    &quot;&quot;&quot;
    l = Link.empty
    while n &gt; 0:
        l = Link(n % 10, l)
        n = n // 10
</code></pre>
<h2 id="sorted">Sorted</h2>
<pre><code class="language-python">def ordered(s, key=lambda x: x):
    &quot;&quot;&quot;Is Link s ordered?

    &gt;&gt;&gt; ordered(Link(1, Link(3, Link(4))))
    True
    &gt;&gt;&gt; ordered(Link(1, Link(4, Link(3))))
    False
    &gt;&gt;&gt; ordered(Link(1, Link(-3, Link(4))))
    False
    &gt;&gt;&gt; ordered(Link(1, Link(-3, Link(4))), key=abs)
    True
    &gt;&gt;&gt; ordered(Link(-4, Link(-1, Link(3))))
    True
    &gt;&gt;&gt; ordered(Link(-4, Link(-1, Link(3))), key=abs)
    False
    &quot;&quot;&quot;
    if s is Link.empty or s.rest is Link.empty:
        return True
    elif key(s.first) &gt; key(s.rest.first):
        return False
    else:
        return ordered(s.rest)
</code></pre>
<h2 id="merge">Merge</h2>
<pre><code class="language-python">def merge(s, t):
    &quot;&quot;&quot;Return a sorted Link containing the elements of sorted s &amp; t.

    &gt;&gt;&gt; a = Link(1, Link(5))
    &gt;&gt;&gt; b = Link(1, Link(4))
    &gt;&gt;&gt; merge(a, b)
    Link(1, Link(1, Link(4, Link(5))))
    &gt;&gt;&gt; a
    Link(1, Link(5))
    &gt;&gt;&gt; b
    Link(1, Link(4))
    &quot;&quot;&quot;
    if s is Link.empty:
        return t
    elif t is Link.empty:
        return s
    elif s.first &lt;= t.first:
        return Link(s.first, merge(s.rest, t))
    else:
        return Link(t.first, merge(s, t.rest))
</code></pre>
<p>in-place</p>
<pre><code class="language-python">def merge_in_place(s, t):
    &quot;&quot;&quot;Return a sorted Link containing the elements of sorted s &amp; t.

    &gt;&gt;&gt; a = Link(1, Link(5))
    &gt;&gt;&gt; b = Link(1, Link(4))
    &gt;&gt;&gt; merge_in_place(a, b)
    Link(1, Link(1, Link(4, Link(5))))
    &gt;&gt;&gt; a
    Link(1, Link(1, Link(4, Link(5))))
    &gt;&gt;&gt; b
    Link(1, Link(4, Link(5)))
    &quot;&quot;&quot;
    if s is Link.empty:
        return t
    elif t is Link.empty:
        return s
    elif s.first &lt;= t.first:
        s.rest = merge_in_place(s.rest, t)
        return s
    else:
        t.rest = merge_in_place(s, t.rest)
        return t
</code></pre>
<h2 id="partition-tbd">Partition (TBD)</h2>
<pre><code class="language-python">
</code></pre>
<h2 id="has-cycle">Has Cycle</h2>
<pre><code class="language-python">def has_cycle(link):
    &quot;&quot;&quot;Return whether link contains a cycle.

    &gt;&gt;&gt; s = Link(1, Link(2, Link(3)))
    &gt;&gt;&gt; s.rest.rest.rest = s
    &gt;&gt;&gt; has_cycle(s)
    True
    &gt;&gt;&gt; t = Link(1, Link(2, Link(3)))
    &gt;&gt;&gt; has_cycle(t)
    False
    &gt;&gt;&gt; u = Link(2, Link(2, Link(2)))
    &gt;&gt;&gt; has_cycle(u)
    False
    &quot;&quot;&quot;
    links = []
    while link is not Link.empty:
        if link in links:
            return True
        links.append(link)
        link = link.rest
    return False
</code></pre>
<p>constant space</p>
<pre><code class="language-python">def has_cycle_constant(link):
    &quot;&quot;&quot;Return whether link contains a cycle.
    (with constant space)

    &gt;&gt;&gt; s = Link(1, Link(2, Link(3)))
    &gt;&gt;&gt; s.rest.rest.rest = s
    &gt;&gt;&gt; has_cycle_constant(s)
    True
    &gt;&gt;&gt; t = Link(1, Link(2, Link(3)))
    &gt;&gt;&gt; has_cycle_constant(t)
    False
    &quot;&quot;&quot;
    if link is Link.empty:
        return False
    slow, fast = link, link.rest
    while fast is not Link.empty:
        if fast.rest == Link.empty:
            return False
        elif fast is slow or fast.rest is slow:
            return True
        else:
            slow, fast = slow.rest, fast.rest.rest
    return False
</code></pre>
<h2 id="deep-linked-list-length">Deep Linked List Length</h2>
<p>A linked list that contains one or more linked lists as elements is called a <em>deep</em> linked list. Write a function <code>deep_len</code> that takes in a (possibly deep) linked list and returns the <em>deep length</em> of that linked list. The deep length of a linked list is the total number of non-link elements in the list, as well as the total number of elements contained in all contained lists.</p>
<pre><code class="language-python">def deep_len(lnk):
    &quot;&quot;&quot; Returns the deep length of a possibly deep linked list.

    &gt;&gt;&gt; deep_len(Link(1, Link(2, Link(3))))
    3
    &gt;&gt;&gt; deep_len(Link(Link(1, Link(2)), Link(3, Link(4))))
    4
    &gt;&gt;&gt; levels = Link(Link(Link(1, Link(2)), \
            Link(3)), Link(Link(4), Link(5)))
    &gt;&gt;&gt; print(levels)
    &lt;&lt;&lt;1 2&gt; 3&gt; &lt;4&gt; 5&gt;
    &gt;&gt;&gt; deep_len(levels)
    5
    &quot;&quot;&quot;
    if lnk is Link.empty:
        return 0
    elif isinstance(lnk.first, Link):
        return deep_len(lnk.first) + deep_len(lnk.rest)
    else:
        return 1 + deep_len(lnk.rest)
</code></pre>
<h2 id="make-to-string">Make to String</h2>
<pre><code class="language-python">def make_to_string(front, mid, back, empty_repr):
    &quot;&quot;&quot; Returns a function that turns linked lists to strings.

    &gt;&gt;&gt; kevins_to_string = make_to_string(&quot;[&quot;, &quot;|-]--&gt;&quot;, &quot;&quot;, &quot;[]&quot;)
    &gt;&gt;&gt; jerrys_to_string = make_to_string(&quot;(&quot;, &quot; . &quot;, &quot;)&quot;, &quot;()&quot;)
    &gt;&gt;&gt; lst = Link(1, Link(2, Link(3, Link(4))))
    &gt;&gt;&gt; kevins_to_string(lst)
    '[1|-]--&gt;[2|-]--&gt;[3|-]--&gt;[4|-]--&gt;[]'
    &gt;&gt;&gt; kevins_to_string(Link.empty)
    '[]'
    &gt;&gt;&gt; jerrys_to_string(lst)
    '(1 . (2 . (3 . (4 . ()))))'
    &gt;&gt;&gt; jerrys_to_string(Link.empty)
    '()'
    &quot;&quot;&quot;
    def printer(lnk):
        if lnk is Link.empty:
            return empty_repr
        else:
            return front + str(lnk.first) + mid + printer(lnk.rest) + back
    return printer
</code></pre>
<h2 id="remove-duplicates">Remove Duplicates</h2>
<pre><code class="language-python">def remove_duplicates(lnk):
    &quot;&quot;&quot;
    &gt;&gt;&gt; lnk = Link(1, Link(1, Link(1, Link(1, Link(5)))))
    &gt;&gt;&gt; remove_duplicates(lnk)
    &gt;&gt;&gt; lnk
    Link(1, Link(5))
    &quot;&quot;&quot;
    if lnk == Link.empty or lnk.rest == Link.empty:
        return
    if lnk.first == lnk.rest.first:
        lnk.rest = lnk.rest.rest
        remove_duplicates(lnk)
    else:
        remove_duplicates(lnk.rest)
</code></pre>
<h2 id="fold-left-tbd">Fold Left (TBD)</h2>
<pre><code class="language-python">def foldl(link, fn, z):
    &quot;&quot;&quot; Left fold
    &gt;&gt;&gt; lst = Link(3, Link(2, Link(1)))
    &gt;&gt;&gt; foldl(lst, sub, 0) # (((0 - 3) - 2) - 1)
    -6
    &gt;&gt;&gt; foldl(lst, add, 0) # (((0 + 3) + 2) + 1)
    6
    &gt;&gt;&gt; foldl(lst, mul, 1) # (((1 * 3) * 2) * 1)
    6
    &quot;&quot;&quot;
    if link is Link.empty:
        return z
    &quot;*** YOUR CODE HERE ***&quot;
    return foldl(______, ______, ______)
</code></pre>
<h2 id="filter-with-fold-tbd">Filter with Fold (TBD)</h2>
<pre><code class="language-python">def filterl(lst, pred):
    &quot;&quot;&quot; Filters LST based on PRED
    &gt;&gt;&gt; lst = Link(4, Link(3, Link(2, Link(1))))
    &gt;&gt;&gt; filterl(lst, lambda x: x % 2 == 0)
    Link(4, Link(2))
    &quot;&quot;&quot;
    &quot;*** YOUR CODE HERE ***&quot;
</code></pre>
<h2 id="reverse-with-fold-tbd">Reverse with Fold (TBD)</h2>
<pre><code class="language-python">def reverse(lst):
    &quot;&quot;&quot; Reverses LST with foldl
    &gt;&gt;&gt; reverse(Link(3, Link(2, Link(1))))
    Link(1, Link(2, Link(3)))
    &gt;&gt;&gt; reverse(Link(1))
    Link(1)
    &gt;&gt;&gt; reversed = reverse(Link.empty)
    &gt;&gt;&gt; reversed is Link.empty
    True
    &quot;&quot;&quot;
    &quot;*** YOUR CODE HERE ***&quot;
</code></pre>
<h2 id="fold-with-fold-tbd">Fold with Fold (TBD)</h2>
<pre><code class="language-python">identity = lambda x: x

def foldl2(link, fn, z):
    &quot;&quot;&quot; Write foldl using foldr
    &gt;&gt;&gt; list = Link(3, Link(2, Link(1)))
    &gt;&gt;&gt; foldl2(list, sub, 0) # (((0 - 3) - 2) - 1)
    -6
    &gt;&gt;&gt; foldl2(list, add, 0) # (((0 + 3) + 2) + 1)
    6
    &gt;&gt;&gt; foldl2(list, mul, 1) # (((1 * 3) * 2) * 1)
    6
    &quot;&quot;&quot;
    def step(x, g):
        &quot;*** YOUR CODE HERE ***&quot;
    return foldr(link, step, identity)(z)
</code></pre></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
