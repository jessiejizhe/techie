<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="https://jessiejizhe.github.io/techie/CS61A/ex-recursion/">
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>recursion - Techie</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">Techie</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">CS61A <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../ex-function/" class="dropdown-item">function</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">recursion</a>
</li>
                                    
<li>
    <a href="../ex-sequence/" class="dropdown-item">sequence</a>
</li>
                                    
<li>
    <a href="../ex-tree/" class="dropdown-item">tree</a>
</li>
                                    
<li>
    <a href="../ex-linked_list/" class="dropdown-item">linked_list</a>
</li>
                                    
<li>
    <a href="../1-intro/" class="dropdown-item">CS61A-intro</a>
</li>
                                    
<li>
    <a href="../2-function/" class="dropdown-item">CS61A-function</a>
</li>
                                    
<li>
    <a href="../3-data_abstraction/" class="dropdown-item">CS61A-data abstraction</a>
</li>
                                    
<li>
    <a href="../4-object_oriented/" class="dropdown-item">CS61A-object oriented</a>
</li>
                                    
<li>
    <a href="../5-computer_programs/" class="dropdown-item">CS61A-computer programs</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">DevOps <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../devops/git/" class="dropdown-item">git</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Apache <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../Apache/Hadoop/" class="dropdown-item">Hadoop</a>
</li>
                                    
<li>
    <a href="../../Apache/MapReduce/" class="dropdown-item">MapReduce</a>
</li>
                                    
<li>
    <a href="../../Apache/HDFS/" class="dropdown-item">HDFS</a>
</li>
                                    
<li>
    <a href="../../Apache/Spark/" class="dropdown-item">Spark</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../ex-function/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../ex-sequence/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#recursions" class="nav-link">Recursions</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#sumn" class="nav-link">sum(n)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#sum-digits" class="nav-link">sum digits</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#sum-of-first-n-terms" class="nav-link">sum of first n terms</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#cascade" class="nav-link">cascade</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#inverse-cascade" class="nav-link">inverse cascade</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#hailstone" class="nav-link">hailstone</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#merge-digits" class="nav-link">merge digits</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#missing-digits" class="nav-link">missing digits</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#skip-add" class="nav-link">skip add</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#factorial" class="nav-link">factorial</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#prime-number" class="nav-link">prime number</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#pingpong" class="nav-link">pingpong</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#count-coins" class="nav-link">count coins</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#count-paths-in-grid" class="nav-link">count paths in grid</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#count-stairs-for-n-steps" class="nav-link">count stairs for n steps</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#max-product-of-nonconsecutive-elements" class="nav-link">max product of nonconsecutive elements</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#insert-into-all" class="nav-link">insert into all</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#subsequence" class="nav-link">subsequence</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#increasing-subsequence" class="nav-link">increasing subsequence</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#max-subsequence" class="nav-link">max subsequence</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#add-characters" class="nav-link">add characters</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#reverse-string" class="nav-link">reverse string</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#sequence-iteration" class="nav-link">sequence iteration</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#pascals-triangle" class="nav-link">Pascal's Triangle</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#knapsack" class="nav-link">Knapsack</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            
            <li class="nav-item" data-level="1"><a href="#mutual-recursion" class="nav-link">Mutual Recursion</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#luhn-sum-credit-card-validation" class="nav-link">luhn sum - credit card validation</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#even-or-odd" class="nav-link">even or odd</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#subpaths" class="nav-link">subpaths</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="recursions">Recursions</h1>
<h2 id="sumn">sum(n)</h2>
<p>built-in <code>sum()</code> for a list</p>
<pre><code class="language-python">&gt;&gt;&gt; sum
&lt;built-in function sum&gt;
&gt;&gt;&gt; sum([3,4,5])
12
&gt;&gt;&gt; 0 + 3 + 4 + 5
12
&gt;&gt;&gt; sum([])
0
&gt;&gt;&gt; [3] + [4, 5][3, 4, 5]
</code></pre>
<p>takes input n and returns the sum of the first n integers</p>
<p>sum(5) returns 1+2+3+4+5</p>
<pre><code class="language-python">def sum_itr(n):
    i, total = 0, 0
    while i &lt; n:
        i += 1
        total += i
    return total

def sum_itr(n):
    sum = 0
    for i in range(0, n+1):
        sum = sum + i
    return sum

def sum(n):
    if n == 0:
        return 0
    else:
        return n + sum(n-1)
</code></pre>
<h2 id="sum-digits">sum digits</h2>
<pre><code class="language-python">def sum_digits(y):
    &quot;&quot;&quot;Sum all the digits of y.

    &gt;&gt;&gt; sum_digits(10) # 1 + 0 = 1
    1
    &gt;&gt;&gt; sum_digits(4224) # 4 + 2 + 2 + 4 = 12
    12
    &gt;&gt;&gt; sum_digits(1234567890)
    45
    &gt;&gt;&gt; a = sum_digits(123) # make sure that you are using return rather than print
    &gt;&gt;&gt; a
    6
    &quot;&quot;&quot;
    if y &lt;= 0:
        return &quot;need to input a nonnegative number&quot;
    else:
        sum = 0
        while y &gt; 0:
            sum = sum + y % 10
            y = y // 10
        return sum
</code></pre>
<p>recursively</p>
<pre><code class="language-python">def sum_digits(n):
    &quot;&quot;&quot;Return the sum of the digits of positive integer n.&quot;&quot;&quot;
    if n &lt; 10:
        return n
    else:
        all_but_last, last = n // 10, n % 10
        return sum_digits(all_but_last) + last
</code></pre>
<h2 id="sum-of-first-n-terms">sum of first n terms</h2>
<pre><code class="language-python">def summation(n, term):

    &quot;&quot;&quot;Return the sum of the first n terms in the sequence defined by term.
    Implement using recursion!

    &gt;&gt;&gt; summation(5, lambda x: x * x * x) # 1^3 + 2^3 + 3^3 + 4^3 + 5^3
    225
    &gt;&gt;&gt; summation(9, lambda x: x + 1) # 2 + 3 + 4 + 5 + 6 + 7 + 8 + 9 + 10
    54
    &gt;&gt;&gt; summation(5, lambda x: 2**x) # 2^1 + 2^2 + 2^3 + 2^4 + 2^5
    62
    &quot;&quot;&quot;
    assert n &gt;= 1
    if n == 1:
        return term(n)
    else:
        return term(n) + summation(n-1, term)
</code></pre>
<h2 id="cascade">cascade</h2>
<pre><code class="language-python">def cascade(n):
    if n &lt; 10:
        print(n)
    else:
        print(n)
        cascade(n//10)
        print(n)
</code></pre>
<p>alternatively</p>
<pre><code class="language-python">def cascade(n):
    print(n)
    if n &gt; 10:
        cascade(n//10)
        print(n)
</code></pre>
<p>results</p>
<pre><code class="language-python">&gt;&gt;&gt; print(123)
123
12
1
12
123
</code></pre>
<h2 id="inverse-cascade">inverse cascade</h2>
<p>hint</p>
<ul>
<li><code>grow</code> prints out: 1, 12, 123</li>
<li><code>print</code> prints out 123</li>
<li><code>shrink</code> prints out 123, 12, 12</li>
</ul>
<pre><code class="language-python">def inverse_cascade(n):
    grow(n)
    print(n)
    shrink(n)

def f_then_g(f, g, n):
    if n:
        f(n)
        g(n)

grow = lambda n: f_then_g()
shrink = lambda n: f_then_g()
</code></pre>
<p>solution</p>
<pre><code class="language-python">grow = lambda n: f_then_g(grow, print, n//10)
shrink = lambda n: f_then_g(print, shrink, n//10)
</code></pre>
<h2 id="hailstone">hailstone</h2>
<p>Douglas Hofstadter's Pulitzer-prize-winning book, <em>Gödel, Escher, Bach</em>, poses the following mathematical puzzle.</p>
<ol>
<li>Pick a positive integer <code>n</code> as the start.</li>
<li>If <code>n</code> is even, divide it by 2.</li>
<li>If <code>n</code> is odd, multiply it by 3 and add 1.</li>
<li>Continue this process until <code>n</code> is 1.</li>
</ol>
<pre><code class="language-python">def hailstone(n):
    count = 1
    if n &lt;= 0:
        print('pick a positive number')
        return 0
    else:
        print(n)
        while n != 1:
            if n % 2 == 0:
                n = n / 2
            else:
                n = n * 3 + 1
            print(n)
            count += 1
    return count
</code></pre>
<p>recursive</p>
<pre><code class="language-python">def hailstone(n):
    print(n)
    if n == 1:
        return n
    elif n % 2 == 0:
        return 1 + hailstone(n // 2)
    else:
        return 1 + hailstone(3 * n + 1)
</code></pre>
<h2 id="merge-digits">merge digits</h2>
<p>take s numbers with digits in decreasing order</p>
<p>returns a single number with all of the digits of the two in decreasing order</p>
<pre><code class="language-python">def merge(n1, n2):
    if n1 == 0:
        return n2
    elif n2 == 0:
        return n1
    elif n1 % 10 &lt; n2 % 10:
        return merge(n1 // 10, n2) * 10 + n1 % 10
    else:
        return merge(n1, n2 // 10) * 10 + n2 % 10
</code></pre>
<h2 id="missing-digits">missing digits</h2>
<pre><code class="language-python">def missing_digits(n):
    &quot;&quot;&quot;Given a number a that is in sorted, increasing order,
    return the number of missing digits in n. A missing digit is
    a number between the first and last digit of a that is not in n.
    &gt;&gt;&gt; missing_digits(1248) # 3, 5, 6, 7
    4
    &gt;&gt;&gt; missing_digits(1122) # No missing numbers
    0
    &gt;&gt;&gt; missing_digits(123456) # No missing numbers
    0
    &gt;&gt;&gt; missing_digits(3558) # 4, 6, 7
    3
    &gt;&gt;&gt; missing_digits(35578) # 4, 6
    2
    &gt;&gt;&gt; missing_digits(12456) # 3
    1
    &gt;&gt;&gt; missing_digits(16789) # 2, 3, 4, 5
    4
    &gt;&gt;&gt; missing_digits(19) # 2, 3, 4, 5, 6, 7, 8
    7
    &gt;&gt;&gt; missing_digits(4) # No missing numbers between 4 and 4
    0
    &quot;&quot;&quot;
    def missing_digits(n):
    if n &lt; 10:
        return 0
    else:
        last_digit = n % 10
        second_to_last_digit = n // 10 % 10
        if last_digit == second_to_last_digit:
            return missing_digits(n // 10)
        else:
            return (last_digit - second_to_last_digit - 1) + missing_digits(n // 10)

</code></pre>
<h2 id="skip-add">skip add</h2>
<pre><code class="language-python">def skip_add(n):
    &quot;&quot;&quot; Takes a number n and returns n + n-2 + n-4 + n-6 + ... + 0.

    &gt;&gt;&gt; skip_add(5)  # 5 + 3 + 1 + 0
    9
    &gt;&gt;&gt; skip_add(10) # 10 + 8 + 6 + 4 + 2 + 0
    30
    &quot;&quot;&quot;
    if n &lt;= 0:
        return 0
    else:
        return n + skip_add(n-2)
</code></pre>
<h2 id="factorial">factorial</h2>
<pre><code class="language-python">def fact(n):
    if n == 0:
        return 1
    else:
        return n * fact(n-1)

def fact_iter(n):
    total, k = 1, 1
    while k &lt;= n:
        total, k = total * k, k + 1
        return total
</code></pre>
<h2 id="prime-number">prime number</h2>
<p>while loop</p>
<pre><code class="language-python">def is_prime(n):
    &quot;&quot;&quot;
    &gt;&gt;&gt; is_prime(10)
    False
    &gt;&gt;&gt; is_prime(7)
    True
    &quot;&quot;&quot;
    if n == 1:
        return False
    else:
        i = 2
        while i &lt; n:
            if n % i == 0:
                return False
                break
            else:
                i += 1
                return True
</code></pre>
<p>for loop</p>
<pre><code class="language-python">def is_prime(n):
    &quot;&quot;&quot;
    &gt;&gt;&gt; is_prime(10)
    False
    &gt;&gt;&gt; is_prime(7)
    True
    &quot;&quot;&quot;
    if n == 1:
        return False
    else:
        for i in range(2, n):
            if n % i == 0:
                return False
                break
            else:
                return True
</code></pre>
<p>recursive</p>
<pre><code class="language-python">def is_prime(n):
    def prime_helper(i):
        if i == n:
            return True
        elif n % i == 0 or n == 1:
            return False
        else:
            return prime_helper(i+1)
    return prime_helper(2)  # i starts from 2
</code></pre>
<h2 id="pingpong">pingpong</h2>
<pre><code class="language-python">def pingpong(n):
    &quot;&quot;&quot;Return the nth element of the ping-pong sequence.

    &gt;&gt;&gt; pingpong(8)
    8
    &gt;&gt;&gt; pingpong(10)
    6
    &gt;&gt;&gt; pingpong(15)
    1
    &gt;&gt;&gt; pingpong(21)
    -1
    &gt;&gt;&gt; pingpong(22)
    -2
    &gt;&gt;&gt; pingpong(30)
    -2
    &gt;&gt;&gt; pingpong(68)
    0
    &gt;&gt;&gt; pingpong(69)
    -1
    &gt;&gt;&gt; pingpong(80)
    0
    &gt;&gt;&gt; pingpong(81)
    1
    &gt;&gt;&gt; pingpong(82)
    0
    &gt;&gt;&gt; pingpong(100)
    -6
    &quot;&quot;&quot;
    def pingpong_helper(x, direction, base):
        if x == n:
            return base + direction
        elif x % 8 == 0 or num_eights(x)&gt;0:
            return pingpong_helper(x+1, -direction, base + direction)
        else:
            return pingpong_helper(x+1, direction, base + direction)
    return pingpong_helper(1, 1, 0)

</code></pre>
<p>iterative</p>
<pre><code class="language-python">def pingpong_itr(n):
    i, value, direction = 1, 1, 1
    while i &lt; n:
        if i % 8 == 0 or num_eights(i)&gt;0:
            direction = -direction
        value += direction
        i += 1
    return value
</code></pre>
<h2 id="count-coins">count coins</h2>
<pre><code class="language-python">def next_largest_coin(coin):
    &quot;&quot;&quot;Return the next coin. 
    &gt;&gt;&gt; next_largest_coin(1)
    5
    &gt;&gt;&gt; next_largest_coin(5)
    10
    &gt;&gt;&gt; next_largest_coin(10)
    25
    &gt;&gt;&gt; next_largest_coin(2) # Other values return None
    &quot;&quot;&quot;
    if coin == 1:
        return 5
    elif coin == 5:
        return 10
    elif coin == 10:
        return 25


def count_coins(total):
    &quot;&quot;&quot;Return the number of ways to make change for total using coins of value of 1, 5, 10, 25.
    &gt;&gt;&gt; count_coins(15)
    6
    &gt;&gt;&gt; count_coins(10)
    4
    &gt;&gt;&gt; count_coins(20)
    9
    &gt;&gt;&gt; count_coins(100) # How many ways to make change for a dollar?
    242
    &quot;&quot;&quot;
    def count_coins(total):
        def coin_helper(total, coin):
            if total &lt; 0:
                return 0
            elif total == 0:
                return 1
            elif coin is None:
                return 0
            else:
                cur_coin = coin_helper(total - coin, coin)
                next_coin = coin_helper(total, next_largest_coin(coin))
                return cur_coin + next_coin
        return coin_helper(total, 1)

# doesn't work for count_coins(100), why?
</code></pre>
<h2 id="count-paths-in-grid">count paths in grid</h2>
<pre><code class="language-python">def paths(m, n):
    &quot;&quot;&quot;Return the number of paths from one corner of an
    M by N grid to the opposite corner.

    &gt;&gt;&gt; paths(2, 2)
    2
    &gt;&gt;&gt; paths(5, 7)
    210
    &gt;&gt;&gt; paths(117, 1)
    1
    &gt;&gt;&gt; paths(1, 157)
    1
    &quot;&quot;&quot;
    if m == 1 and n == 1: # start
        return 1
    elif m == 1: # left edge
        return paths(m, n-1)
    elif n == 1: # bottom edge
        return paths(m-1, n)
    else:
        return paths(m, n-1) + paths(m-1, n)
</code></pre>
<h2 id="count-stairs-for-n-steps">count stairs for n steps</h2>
<p>take 1 or 2 steps each time</p>
<pre><code class="language-python"># my sln
def count_stair_ways(n):
    if n == 1:
        return 1
    elif n == 2:
        return 2
    else:
        return count_stair_ways(n-1) + count_stair_ways(n-2)

# don't need else
def count_stair_ways(n):
    if n == 1:
        return 1
    elif n == 2:
        return 2
    return count_stair_ways(n-1) + count_stair_ways(n-2)
</code></pre>
<p>take up to k steps at a time</p>
<pre><code class="language-python">def count_k(n, k):
    &quot;&quot;&quot;
    &gt;&gt;&gt; count_k(3, 3) # 3, 2 + 1, 1 + 2, 1 + 1 + 1
    4
    &gt;&gt;&gt; count_k(4, 4)
    8
    &gt;&gt;&gt; count_k(10, 3)
    274
    &gt;&gt;&gt; count_k(300, 1) # Only one step at a time
    1
    &quot;&quot;&quot;
    if n == 0:
        return 1
    elif n &lt; 0:
        return 0
    else:
        # count_k(n-1, k) + count_k(n-2, k) + ... + count_k(n-k, k)
        total = 0
        i = 1
        while i &lt;= k:
            total += count_k(n-i, k)
            i += 1
        return total
</code></pre>
<h2 id="max-product-of-nonconsecutive-elements">max product of nonconsecutive elements</h2>
<pre><code class="language-python">def max_product(s):
    &quot;&quot;&quot;Return the maximum product that can be formed using non-consecutive
    elements of s.
    &gt;&gt;&gt; max_product([10,3,1,9,2]) # 10 * 9
    90
    &gt;&gt;&gt; max_product([5,10,5,10,5]) # 5 * 5 * 5
    125
    &gt;&gt;&gt; max_product([])
    1
    &quot;&quot;&quot;
    if len(s) == 0:
        return 1
    elif len(s) == 1:
        return s[0]
    else:
        return max(max_product(s[1:]), s[0] * max_product(s[2:]))
</code></pre>
<h2 id="insert-into-all">insert into all</h2>
<pre><code class="language-python">def insert_into_all(item, nested_list):
    &quot;&quot;&quot;Assuming that nested_list is a list of lists, return a new list
    consisting of all the lists in nested_list, but with item added to
    the front of each.

    &gt;&gt;&gt; nl = [[], [1, 2], [3]]
    &gt;&gt;&gt; insert_into_all(0, nl)
    [[0], [0, 1, 2], [0, 3]]
    &quot;&quot;&quot;
    return [[item] + i for i in nested_list]
</code></pre>
<h2 id="subsequence">subsequence</h2>
<pre><code class="language-python">def subseqs(s):
    &quot;&quot;&quot;
    &gt;&gt;&gt; seqs = subseqs([1, 2, 3])
    &gt;&gt;&gt; sorted(seqs)
    [[], [1], [1, 2], [1, 2, 3], [1, 3], [2], [2, 3], [3]]
    &gt;&gt;&gt; subseqs([])
    [[]]
    &quot;&quot;&quot;
    if len(s) == 0:
        return [[]]
    else:
        exclude_first = subseqs(s[1:])
        include_first = [[s[0]] + e for e in exclude_first]
        # include_first = insert_into_all([s[0]], exclude_first)
        return exclude_first + include_first
</code></pre>
<h2 id="increasing-subsequence">increasing subsequence</h2>
<pre><code class="language-python">def inc_subseqs(s):
    &quot;&quot;&quot;
    &gt;&gt;&gt; seqs = inc_subseqs([1, 3, 2])
    &gt;&gt;&gt; sorted(seqs)
    [[], [1], [1, 2], [1, 3], [2], [3]]
    &gt;&gt;&gt; inc_subseqs([])
    [[]]
    &gt;&gt;&gt; seqs2 = inc_subseqs([1, 1, 2])
    &gt;&gt;&gt; sorted(seqs2)
    [[], [1], [1], [1, 1], [1, 1, 2], [1, 2], [1, 2], [2]]
    &quot;&quot;&quot;
    def subseq_helper(s, prev):
        if not s:
            return [[]]
        elif s[0] &lt; prev:
            return subseq_helper(s[1:], prev)
        else:
            include = subseq_helper(s[1:], s[0])
            exclude = subseq_helper(s[1:], prev)
            return insert_into_all(s[0], include) + exclude
    return subseq_helper(s, 0)
</code></pre>
<h2 id="max-subsequence">max subsequence</h2>
<pre><code class="language-python">def max_subseq(n, t):
    &quot;&quot;&quot;
    Return the maximum subsequence of length at most t that can be found in the given number n.
    For example, for n = 20125 and t = 3, we have that the subsequences are
        2
        0
        1
        2
        5
        20
        21
        22
        25
        01
        02
        05
        12
        15
        25
        201
        202
        205
        212
        215
        225
        012
        015
        025
        125
    and of these, the maxumum number is 225, so our answer is 225.

    &gt;&gt;&gt; max_subseq(20125, 3)
    225
    &gt;&gt;&gt; max_subseq(20125, 5)
    20125
    &gt;&gt;&gt; max_subseq(20125, 6) # note that 20125 == 020125
    20125
    &gt;&gt;&gt; max_subseq(12345, 3)
    345
    &gt;&gt;&gt; max_subseq(12345, 0) # 0 is of length 0
    0
    &gt;&gt;&gt; max_subseq(12345, 1)
    5
    &quot;&quot;&quot;
    if t == 0 or n == 0:
        return 0
    last_digit = n % 10
    rest = n // 10
    keep_last_digit = max_subseq(rest, t-1) * 10 + last_digit
    drop_last_digit = max_subseq(rest, t)
    return max(keep_last_digit, drop_last_digit)
</code></pre>
<h2 id="add-characters">add characters</h2>
<pre><code class="language-python">def add_chars(w1, w2):
    &quot;&quot;&quot;
    Return a string containing the characters you need to add to w1 to get w2.

    You may assume that w1 is a subsequence of w2.

    &gt;&gt;&gt; add_chars(&quot;owl&quot;, &quot;howl&quot;)
    'h'
    &gt;&gt;&gt; add_chars(&quot;want&quot;, &quot;wanton&quot;)
    'on'
    &gt;&gt;&gt; add_chars(&quot;rat&quot;, &quot;radiate&quot;)
    'diae'
    &gt;&gt;&gt; add_chars(&quot;a&quot;, &quot;prepare&quot;)
    'prepre'
    &gt;&gt;&gt; add_chars(&quot;resin&quot;, &quot;recursion&quot;)
    'curo'
    &gt;&gt;&gt; add_chars(&quot;fin&quot;, &quot;effusion&quot;)
    'efuso'
    &gt;&gt;&gt; add_chars(&quot;coy&quot;, &quot;cacophony&quot;)
    'acphon'
    &quot;&quot;&quot;
    if len(w1) == 0:
        return w2
    if w1[0] == w2[0]:
        return add_chars(w1[1:], w2[1:])
    else:
        return w2[0] + add_chars(w1, w2[1:])
</code></pre>
<h2 id="reverse-string">reverse string</h2>
<pre><code class="language-python">def reverse(s):
    if len(s) == 1:
        return s
    else:
        return reverse(s[1:]) + s[0]

def reverse(s):
    if len(s) == 0:
        return ''
    else:
        return reverse(s[1:]) + s[0]
</code></pre>
<h2 id="sequence-iteration">sequence iteration</h2>
<pre><code class="language-python">def mysum(L):
    if L == []:
        return 0
    else:
        return L[0] + mysum(L[1:])
</code></pre>
<p>iterations</p>
<pre><code class="language-python"># index
def count(s, value):
    &quot;&quot;&quot;Count the number of occurrences of value in sequence s.&quot;&quot;&quot;
    total, index = 0, 0
    while index &lt; len(s):
        if s[index] == value:
            total = total + 1
        index = index + 1
    return total

# element
def count(s, value):
    &quot;&quot;&quot;Count the number of occurrences of value in sequence s.&quot;&quot;&quot;
    total = 0
    for elem in s:
        if elem == value:
            total = total + 1
    return total
</code></pre>
<h2 id="pascals-triangle">Pascal's Triangle</h2>
<pre><code>1
1 1
1 2 1
1 3 3 1
1 4 6 4 1
</code></pre>
<pre><code class="language-python">def pascal(row, column):
    &quot;&quot;&quot;Returns the value of the item in Pascal's Triangle 
    whose position is specified by row and column.
    &gt;&gt;&gt; pascal(0, 0)
    1
    &gt;&gt;&gt; pascal(0, 5)    # Empty entry; outside of Pascal's Triangle
    0
    &gt;&gt;&gt; pascal(3, 2)    # Row 3 (1 3 3 1), Column 2
    3
    &gt;&gt;&gt; pascal(4, 2)     # Row 4 (1 4 6 4 1), Column 2
    6
    &quot;&quot;&quot;
    if column == 0:
        return 1
    elif row == 0:
        return 0
    else:
        return pascal(row - 1, column) + pascal(row - 1, column - 1)
</code></pre>
<h2 id="knapsack">Knapsack</h2>
<pre><code class="language-python">def knapsack(weights, values, c):
    &quot;&quot;&quot;
    takes a list weights, list values and a capacity c
    return that max value
    &gt;&gt;&gt; w = [2, 6, 3, 3]
    &gt;&gt;&gt; v = [1, 5, 3, 3]
    &gt;&gt;&gt; knapsack(w, v, 6)
    6
    &quot;&quot;&quot;
    &quot;*** YOUR CODE HERE ***&quot;
    if len(weights) == 0:
        return 0
    else:
        first_weight, rest_weight = weights[0], weights[1:]
        first_value, rest_value = values[0], values[1:]
        with_first = first_value + knapsack(rest_weight, rest_value, c - first_weight)
        without_first = knapsack(rest_weight, rest_value, c)
        if first_weight &lt;= c:
            return max(with_first, without_first)
        else:
            return without_first
</code></pre>
<h1 id="mutual-recursion">Mutual Recursion</h1>
<h2 id="luhn-sum-credit-card-validation">luhn sum - credit card validation</h2>
<p>checksum = a multiple of 10</p>
<pre><code class="language-python">def luhn_sum(n):
    if n &lt; 10:
        return n
    else:
        all_but_last, last = n // 10, n % 10
        return luhn_sum_double(all_but_last) + last

def luhn_sum_double(n):
    all_but_last, last = n // 10, n % 10
    luhn_digit = sum_digits(2 * last)
    if n &lt; 10:
        return n
    else:
        return luhn_sum(all_but_last) + luhn_digit
</code></pre>
<h2 id="even-or-odd">even or odd</h2>
<pre><code class="language-python">def is_even(n):
    if n == 0:
        return True
    else:
        return is_odd(n-1)

def is_odd(n):
    if n == 0:
        return False
    else:
        return is_even(n-1)

result = is_even(4)
</code></pre>
<p>all-in-one</p>
<pre><code class="language-python">def is_even(n):
    if n == 0:
        return True
    else:
        if (n-1) == 0:
            return False
        else:
            return is_even((n-1)-1)
</code></pre>
<h2 id="subpaths">subpaths</h2>
<pre><code class="language-python">def paths(x, y):
    &quot;&quot;&quot;Return a list of ways to reach y from x by repeated
    incrementing or doubling.
    &gt;&gt;&gt; paths(3, 5)
    [[3, 4, 5]]
    &gt;&gt;&gt; sorted(paths(3, 6))
    [[3, 4, 5, 6], [3, 6]]
    &gt;&gt;&gt; sorted(paths(3, 9))
    [[3, 4, 5, 6, 7, 8, 9], [3, 4, 8, 9], [3, 6, 7, 8, 9]]
    &gt;&gt;&gt; paths(3, 3) # No calls is a valid path
    [[3]]
    &quot;&quot;&quot;
    if x &gt; y:
        return []
    elif x == y:
        return [[x]]
    else:
        a = paths(x+1, y)
        b = paths(2*x, y)
        return [[x] + subpath for subpath in a+b]
</code></pre></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
